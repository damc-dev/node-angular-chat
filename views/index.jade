extends layout

block body

  div#main(ng-controller='AppCtrl')
    md-toolbar#title-bar.md-theme-light
      h1.md-toolbar-tools
        span Angular Socket.io Chat Application
    div#container(layout='row')
      md-content#room.md-theme-light(ng-controller='RoomCtrl')
        md-list
          md-item(ng-repeat='user in users')
            md-item-content.user.md-whiteframe-z1
              div.md-tile-left
                svg(style="width:24px;height:24px", viewBox="0 0 24 24")
                  path(fill="#000000", d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z")
              div.md-tile-content
                {{user.user.name}}

      md-content#chat.md-theme-light(ng-controller='ChatCtrl')
        md-list
          md-item(ng-repeat='item in messages')
            md-item-content
              div.md-tile-content
                h4
                  b{{item.userName}}:
                  //- This is to preserve space after username
                  = ' '
                  {{item.msg}}
          div#bottom


    md-content#message-input
      form.form-horizontal(ng-submit='sendMessage()', ng-controller='MessageCtrl')
        section(layout='row', layout-align='center center')
          md-input-container(flex)
            input(ng-model='message')
          md-input-container
            md-button.md-primary Submit

  script(src='/socket.io/socket.io.js')
  script(src='bower_components/angular/angular.js')
  script(src='bower_components/angular-animate/angular-animate.js')
  script(src='bower_components/angular-aria/angular-aria.js')
  script(src='bower_components/angular-route/angular-route.js')
  script(src='bower_components/angular-socket-io/socket.js')
  script(src='bower_components/angular-material/angular-material.js')
  script(src='js/app.js')
  script(src='js/services.js')
  script(src='js/controllers.js')
